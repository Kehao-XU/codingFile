# 复旦大学软件工程大一程序设计复习题

## 概述
本套复习题涵盖程序设计基础、基本数据类型、结构化程序设计、数组、函数、指针和引用、结构与链表、数据文件处理技术等核心知识点。题目难度有梯度，适合作为期末复习使用。

## 一、基础概念题

### 选择题
1. 以下哪个不是C语言的基本数据类型？
   A. int   B. float   C. string   D. char

2. 关于数组的描述，错误的是：
   A. 数组元素在内存中连续存储
   B. 数组名是数组首元素的地址
   C. 可以动态改变数组的大小
   D. 数组下标从0开始

3. 以下关于指针的说法，正确的是：
   A. 指针是变量的地址
   B. 指针只能指向基本数据类型
   C. 指针变量可以直接存储数据
   D. 指针的大小与指向的数据类型有关

4. 关于结构体的说法，错误的是：
   A. 结构体可以包含不同类型的数据
   B. 结构体变量的内存是连续的
   C. 结构体中的成员可以是结构体类型
   D. 结构体不能作为函数参数传递

5. 打开文件时，以下哪个模式可以同时进行读写操作？
   A. "r"   B. "w"   C. "a"   D. "r+"

### 填空题
1. C语言中，表达式`3 + 5 % 2`的值是______。

2. 执行以下代码后，变量a的值是______。
   ```c
   int a = 10;
   int *p = &a;
   *p = 20;
   ```

3. 函数`void swap(int x, int y)`不能实现交换两个变量的值，因为参数传递方式是______。

4. 链表中每个节点通常包含______和______两部分。

5. 要将数组元素逆序，可以使用______指针和______指针。

## 二、编程题（分难度）

### 简单题（建议用时：15-20分钟）

#### 1. 数组元素求和与平均值
**题目要求**：编写一个程序，输入10个整数存入数组，计算它们的总和与平均值（保留两位小数）。

**知识点**：数组、基本输入输出

#### 2. 判断素数函数
**题目要求**：编写一个函数`int isPrime(int n)`，判断一个整数是否为素数（素数定义：大于1的自然数，除了1和它本身外，不能被其他自然数整除）。在主函数中测试该函数，输入一个整数，输出是否为素数。

**知识点**：函数、循环结构、逻辑判断

### 中等题（建议用时：25-30分钟）

#### 3. 指针实现字符串反转
**题目要求**：编写一个函数`void reverseString(char *str)`，使用指针操作将字符串反转。例如，输入"hello"，输出"olleh"。

**知识点**：指针、字符串处理

#### 4. 学生成绩管理（结构体）
**题目要求**：定义一个学生结构体，包含姓名（字符串）、学号（整数）、数学成绩（float）、英语成绩（float）四个成员。编写程序：
- 输入3个学生的信息
- 计算每个学生的平均成绩
- 输出平均成绩最高的学生的所有信息

**知识点**：结构体、数组、条件判断

### 综合题（建议用时：35-40分钟）

#### 5. 链表操作
**题目要求**：实现一个简单的单链表，包括以下功能：
- 创建节点：根据输入值创建新节点
- 插入节点：在链表末尾插入节点
- 打印链表：遍历链表并打印所有节点的值
- 反转链表：将链表反转并打印

**知识点**：结构体、指针、链表操作

#### 6. 文件数据统计
**题目要求**：编写程序统计文本文件`data.txt`中的字符数、单词数和行数。
- 字符数：所有字符（包括空格、换行符等）
- 单词数：以空格或换行符分隔的连续字符序列
- 行数：包含换行符的行（最后一行没有换行符也算一行）

**知识点**：文件操作、循环结构、字符串处理

## 三、编程题解答思路

### 1. 数组元素求和与平均值
```c
#include <stdio.h>

int main() {
    int arr[10];
    int sum = 0;
    float avg;
    
    printf("请输入10个整数：\n");
    for (int i = 0; i < 10; i++) {
        scanf("%d", &arr[i]);
        sum += arr[i];
    }
    
    avg = (float)sum / 10;
    printf("总和：%d\n", sum);
    printf("平均值：%.2f\n", avg);
    
    return 0;
}
```

### 2. 判断素数函数
```c
#include <stdio.h>

int isPrime(int n) {
    if (n <= 1) return 0;
    for (int i = 2; i * i <= n; i++) {
        if (n % i == 0) return 0;
    }
    return 1;
}

int main() {
    int num;
    printf("请输入一个整数：");
    scanf("%d", &num);
    
    if (isPrime(num)) {
        printf("%d是素数\n", num);
    } else {
        printf("%d不是素数\n", num);
    }
    
    return 0;
}
```

### 3. 指针实现字符串反转
```c
#include <stdio.h>
#include <string.h>

void reverseString(char *str) {
    char *start = str;
    char *end = str + strlen(str) - 1;
    char temp;
    
    while (start < end) {
        temp = *start;
        *start = *end;
        *end = temp;
        start++;
        end--;
    }
}

int main() {
    char str[100];
    printf("请输入一个字符串：");
    gets(str);
    
    reverseString(str);
    printf("反转后的字符串：%s\n", str);
    
    return 0;
}
```

### 4. 学生成绩管理
```c
#include <stdio.h>
#include <string.h>

struct Student {
    char name[20];
    int id;
    float math;
    float english;
    float avg;
};

int main() {
    struct Student students[3];
    int maxIndex = 0;
    
    for (int i = 0; i < 3; i++) {
        printf("请输入第%d个学生的信息（姓名 学号 数学成绩 英语成绩）：\n", i+1);
        scanf("%s %d %f %f", students[i].name, &students[i].id, &students[i].math, &students[i].english);
        students[i].avg = (students[i].math + students[i].english) / 2;
        
        if (students[i].avg > students[maxIndex].avg) {
            maxIndex = i;
        }
    }
    
    printf("\n平均成绩最高的学生信息：\n");
    printf("姓名：%s\n", students[maxIndex].name);
    printf("学号：%d\n", students[maxIndex].id);
    printf("数学成绩：%.2f\n", students[maxIndex].math);
    printf("英语成绩：%.2f\n", students[maxIndex].english);
    printf("平均成绩：%.2f\n", students[maxIndex].avg);
    
    return 0;
}
```

### 5. 链表操作
```c
#include <stdio.h>
#include <stdlib.h>

struct Node {
    int data;
    struct Node *next;
};

// 创建节点
struct Node* createNode(int data) {
    struct Node *newNode = (struct Node*)malloc(sizeof(struct Node));
    newNode->data = data;
    newNode->next = NULL;
    return newNode;
}

// 插入节点到末尾
void insertNode(struct Node **head, int data) {
    struct Node *newNode = createNode(data);
    if (*head == NULL) {
        *head = newNode;
        return;
    }
    struct Node *temp = *head;
    while (temp->next != NULL) {
        temp = temp->next;
    }
    temp->next = newNode;
}

// 打印链表
void printList(struct Node *head) {
    struct Node *temp = head;
    while (temp != NULL) {
        printf("%d -> ", temp->data);
        temp = temp->next;
    }
    printf("NULL\n");
}

// 反转链表
struct Node* reverseList(struct Node *head) {
    struct Node *prev = NULL;
    struct Node *curr = head;
    struct Node *next = NULL;
    
    while (curr != NULL) {
        next = curr->next;
        curr->next = prev;
        prev = curr;
        curr = next;
    }
    return prev;
}

int main() {
    struct Node *head = NULL;
    int data;
    
    printf("请输入5个整数（回车分隔）：\n");
    for (int i = 0; i < 5; i++) {
        scanf("%d", &data);
        insertNode(&head, data);
    }
    
    printf("\n原链表：");
    printList(head);
    
    head = reverseList(head);
    printf("反转后链表：");
    printList(head);
    
    return 0;
}
```

### 6. 文件数据统计
```c
#include <stdio.h>
#include <stdbool.h>

int main() {
    FILE *fp;
    char ch;
    int chars = 0;
    int words = 0;
    int lines = 0;
    bool inWord = false;
    
    fp = fopen("data.txt", "r");
    if (fp == NULL) {
        printf("文件打开失败\n");
        return 1;
    }
    
    while ((ch = fgetc(fp)) != EOF) {
        chars++;
        
        if (ch == '\n') {
            lines++;
            inWord = false;
        } else if (ch == ' ' || ch == '\t') {
            inWord = false;
        } else {
            if (!inWord) {
                words++;
                inWord = true;
            }
        }
    }
    
    // 处理最后一行没有换行符的情况
    if (chars > 0 && ch != '\n') {
        lines++;
    }
    
    fclose(fp);
    
    printf("字符数：%d\n", chars);
    printf("单词数：%d\n", words);
    printf("行数：%d\n", lines);
    
    return 0;
}
```

## 四、复习建议

1. **重点复习**：指针、链表、文件操作等较难知识点
2. **实践为主**：多编写代码，理解语法和逻辑
3. **错误分析**：记录并分析编程中遇到的错误
4. **概念理解**：结合实际例子理解抽象概念
5. **时间管理**：模拟考试环境，练习在规定时间内完成题目

祝复习顺利，考试取得好成绩！